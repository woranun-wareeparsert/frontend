"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[278],{278:function(s,t,e){e.r(t),e.d(t,{default:function(){return c}});var a=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"container is-widescreen"},[e("section",{staticClass:"section",attrs:{id:"app"}},[e("p",{staticClass:"title has-text-white has-text-left"},[s._v("My Profile")]),e("div",{staticClass:"column has-background-white p-5 is-size-4"},[s._m(0),e("div",{staticClass:"columns has-text-left"},[e("div",{staticClass:"column is-5"},[e("p",[s._v("Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.name,expression:"name"}],staticClass:"input is-hovered",attrs:{type:"text",disabled:""},domProps:{value:s.name},on:{input:function(t){t.target.composing||(s.name=t.target.value)}}})]),e("div",{staticClass:"column is-5"},[e("p",[s._v("Phone Number")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.phone,expression:"phone"}],staticClass:"input is-hovered",attrs:{type:"text",placeholder:"Hovered input",disabled:""},domProps:{value:s.phone},on:{input:function(t){t.target.composing||(s.phone=t.target.value)}}})])]),e("div",{staticClass:"columns has-text-left"},[e("div",{staticClass:"column is-5"},[e("p",[s._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.email,expression:"email"}],staticClass:"input is-hovered",attrs:{type:"text",placeholder:"Hovered input",disabled:""},domProps:{value:s.email},on:{input:function(t){t.target.composing||(s.email=t.target.value)}}})])]),e("div",{staticClass:"columns has-text-left"},[e("div",{staticClass:"column is-5"},[e("div",{staticClass:"buttons"},[e("button",{staticClass:"button is-info",on:{click:function(t){s.passwordModal=!s.passwordModal}}},[s._v(" Change password ")])])])]),s.success?e("p",{staticClass:"has-text-success is-size-7"},[s._v(s._s(s.success))]):s._e(),e("br"),1==s.passwordModal?e("div",{staticClass:"column"},[e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-3"},[e("p",{staticClass:"is-size-6"},[s._v("Old Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.oldpassword,expression:"oldpassword"}],staticClass:"input is-hovered is-small",attrs:{type:"password",placeholder:"Old password"},domProps:{value:s.oldpassword},on:{input:function(t){t.target.composing||(s.oldpassword=t.target.value)}}})])]),e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-3"},[e("p",{staticClass:"is-size-6"},[s._v("New Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.newpassword,expression:"newpassword"}],staticClass:"input is-hovered is-small",attrs:{type:"password",placeholder:"New password"},domProps:{value:s.newpassword},on:{input:function(t){t.target.composing||(s.newpassword=t.target.value)}}})])]),e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-3"},[e("p",{staticClass:"is-size-6"},[s._v("Confirm Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.confirmpassword,expression:"confirmpassword"}],staticClass:"input is-hovered is-small",attrs:{type:"password",placeholder:"Confirm password"},domProps:{value:s.confirmpassword},on:{input:function(t){t.target.composing||(s.confirmpassword=t.target.value)}}})])]),s.err?e("p",{staticClass:"has-text-danger is-size-7"},[s._v("*"+s._s(s.err))]):s._e(),e("br"),e("div",{staticClass:"buttons"},[e("button",{staticClass:"button is-success",on:{click:function(t){return s.ChangePassword()}}},[s._v(" Change ")]),e("button",{staticClass:"button is-danger",on:{click:function(t){s.passwordModal=!1}}},[s._v(" Cancel ")])])]):s._e()])])])},i=[function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"card-image m-5 p-5 has-text-center"},[e("figure",[e("img",{staticStyle:{width:"180px",height:"100%"},attrs:{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Circle-icons-profile.svg/2048px-Circle-icons-profile.svg.png",alt:"Placeholder image"}})])])}],o=e(4408),r={name:"app",props:["user"],data(){return{passwordModal:!1,oldpassword:"",newpassword:"",confirmpassword:"",confirmnewpassword:"",email:"",name:"",phone:"",err:"",success:null}},mounted(){window.scrollTo(0,0)},created(){this.getProfile()},methods:{ChangePassword(){var s=this.$route.params.id;this.newpassword!=this.confirmpassword?this.err="รหัสผ่านใหม่ไม่ตรงกัน":o.Z.put(`/user/change/${s}`,{oldpassword:this.oldpassword,newpassword:this.newpassword}).then((s=>{this.err=s.data,"รหัสผ่านไม่ถูกต้อง"!=this.err?(this.passwordModal=!1,this.err=null,this.success=s.data,this.oldpassword="",this.newpassword="",this.confirmpassword=""):"รหัสผ่านไม่ถูกต้อง"==this.err&&(this.err=s.data,this.success=null)}))},getProfile(){this.email=this.user.email_id,this.name=this.user.c_name,this.phone=this.user.phone_no}}},n=r,l=e(1001),d=(0,l.Z)(n,a,i,!1,null,null,null),c=d.exports}}]);
//# sourceMappingURL=278.afa1dc24.js.map