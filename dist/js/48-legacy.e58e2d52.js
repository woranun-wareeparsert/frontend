"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[48],{5048:function(t,s,e){e.r(s),e.d(s,{default:function(){return l}});var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("section",{staticClass:"section",attrs:{id:"app"}},[e("div",{staticClass:"content"},[e("p",{staticClass:"title has-text-white"},[t._v("ข้อมูลลูกค้า")]),e("div",{staticClass:"columns is-multiline"},[e("div",{staticClass:"column is-10"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"input is-danger",attrs:{type:"text",placeholder:"Customer Name, Movie Order"},domProps:{value:t.search},on:{input:function(s){s.target.composing||(t.search=s.target.value)}}})]),e("div",{staticClass:"column is-2"},[e("button",{staticClass:"button px-3 is-danger is-fullwidth",on:{click:function(s){return t.getCustomer()}}},[e("strong",[t._v("Search")])])])]),e("div",{staticClass:"column m-5"},[t._m(0),e("table",{staticClass:"table is-bordered has-background-warning-dark has-text-white"},[t._m(1),t._l(t.customer,(function(s){return e("tr",{key:s.cid,staticClass:"has-background-warning-light has-text-black"},[e("td",[t._v(t._s(s.cid))]),e("td",[t._v(t._s(s.email_id))]),e("td",[t._v(t._s(s.c_name))]),e("td",[t._v(t._s(s.phone_no))]),e("td",[t._v(t._s(s.order))]),e("td",[e("button",{staticClass:"button is-success",on:{click:function(e){t.customerModal=!0,t.getOrder(s.cid)}}},[t._v(" รายละเอียด ")])]),e("div",{staticClass:"modal",class:{"is-active":t.customerModal}},[e("div",{staticClass:"modal-background"}),e("div",{staticClass:"modal-card",staticStyle:{width:"80%"}},[e("header",{staticClass:"modal-card-head"},[e("div",{staticClass:"column"},[e("div",{staticClass:"column"},[e("p",[t._v("ช้อมูลลูกค้าไอดี "+t._s(t.customerDetail.cid))]),e("div",{staticClass:"column is-6 has-text-left"},[e("p",[t._v("ไอดี: "+t._s(t.customerDetail.cid))]),e("p",[t._v("อีเมลล์: "+t._s(t.customerDetail.email_id))]),e("p",[t._v("ชื่อ: "+t._s(t.customerDetail.c_name))]),e("p",[t._v("เบอร์โทรศัพท์: "+t._s(t.customerDetail.phone_no))])])])])]),e("section",{staticClass:"modal-card-body modal-content-width"},[e("p",{staticClass:"title"},[t._v("รายการคำสั่งซื้อทั้งหมด")]),e("table",[t._m(2,!0),t._l(t.orderDetail,(function(s){return e("tr",{key:s.order_id},[e("td",[t._v(t._s(s.order_id))]),e("td",[t._v(t._s(s.order_seats))]),e("td",[t._v(t._s(s.total_price))]),e("td",[t._v(t._s(s.tname))]),e("td",[t._v(t._s(s.m_name))]),e("td",[t._v(t._s(s.show_id))]),e("td",[t._v(t._s(s.show_date))]),e("td",[t._v(t._s(s.st_time))])])})),0==t.orderDetail.length?e("tr",[e("td",[t._v("-")]),e("td",[t._v("-")]),e("td",[t._v("-")]),e("td",[t._v("-")]),e("td",[t._v("-")]),e("td",[t._v("-")]),e("td",[t._v("-")]),e("td",[t._v("-")])]):t._e()],2)]),e("footer",{staticClass:"modal-card-foot"},[e("button",{staticClass:"button is-success",on:{click:function(s){t.customerModal=!1}}},[t._v(" ออก ")])])])])])}))],2)])])])},i=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"field level-right"},[e("div",{staticClass:"control"})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("tr",[e("td",[t._v("ไอดี")]),e("td",[t._v("อีเมลล์")]),e("td",[t._v("ชื่อ")]),e("td",[t._v("เบอร์โทรศัพท์")]),e("td",[t._v("จำนวนรายการสั่งซื้อ")]),e("td",[t._v("ดูข้อมูล")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("tr",[e("td",[t._v("รายการคำสั่งซื้อที่")]),e("td",[t._v("ที่นั่ง")]),e("td",[t._v("ราคารวม")]),e("td",[t._v("โรงหนัง")]),e("td",[t._v("ชื่อหนัง")]),e("td",[t._v("รอบฉายที่")]),e("td",[t._v("วันที่ฉาย")]),e("td",[t._v("เวลาเริ่ม")])])}],o=(e(4916),e(4765),e(4408)),c={name:"app",props:["user"],data:function(){return{customer:"",customerDetail:"",orderDetail:"",customerModal:!1,search:""}},mounted:function(){window.scrollTo(0,0),this.getCustomer()},methods:{getCustomer:function(){var t=this;o.Z.get("http://localhost:3000/customer/",{params:{search:this.search}}).then((function(s){t.customer=s.data.customer})).catch((function(t){console.log(t)}))},getOrder:function(t){var s=this;o.Z.get("http://localhost:3000/customer/detail/".concat(t)).then((function(t){s.orderDetail=t.data.order;for(var e=0;e<s.orderDetail.length;e++)s.orderDetail[e].show_date=new Date(s.orderDetail[e].show_date).toDateString();s.customerDetail=t.data.customer[0]})).catch((function(t){console.log(t)}))},image:function(t){return t?"http://localhost:3000/"+t:"https://bulma.io/images/placeholders/640x360.png"}}},r=c,n=e(1001),d=(0,n.Z)(r,a,i,!1,null,null,null),l=d.exports}}]);
//# sourceMappingURL=48-legacy.e58e2d52.js.map