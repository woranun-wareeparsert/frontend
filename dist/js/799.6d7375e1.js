"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[799],{2799:function(t,s,a){a.r(s),a.d(s,{default:function(){return n}});var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"container is-widescreen"},[a("section",{staticClass:"section",attrs:{id:"app"}},[a("div",{staticClass:"content"},[a("p",{staticClass:"title has-text-left has-text-white mb-2"},[t._v(" My Order ("+t._s(t.order.length)+") ")]),a("hr"),a("h1",{staticClass:"is-size-4 has-text-left has-text-white mb-6"},[t._v(" ยังไม่ได้ชำระเงิน ("+t._s(t.wait.length)+") ")]),a("div",{staticClass:"columns is-multiline"},[0==t.wait.length?a("p",{staticClass:"ml-5 has-text-white"},[t._v(" ไม่มีรายการคำสั่งซื้อ ")]):t._e(),t._l(t.wait,(function(s){return a("div",{key:s,staticClass:"column is-3 mt-5"},[a("div",{staticClass:"card",staticStyle:{"background-image":"linear-gradient(rgb(253, 86, 92), white)"}},[a("div",{staticClass:"card-image pt-5"},[a("figure",[a("img",{staticStyle:{width:"150px",height:"237px"},attrs:{src:t.image(s.img_movie),alt:"Placeholder image"}})])]),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content",staticStyle:{height:"100px"}},[t._v(" รายการสั่งซื้อที่: "+t._s(s.order_id)),a("br"),t._v(" "+t._s(s.m_name)+" ("+t._s(s.language)+")"),a("br"),t._v(" วันที่ฉาย: "+t._s(s.show_date)+" ")])]),a("footer",{staticClass:"card-footer "},[a("button",{staticClass:"card-footer-item  button is-success",on:{click:function(a){return t.linkOrder(s.order_id)}}},[t._v("ชำระเงิน")]),a("button",{staticClass:"card-footer-item  button is-danger",on:{click:function(s){t.cancleModal=!0}}},[t._v("ยกเลิก")])])]),a("div",{staticClass:"modal",class:{"is-active":t.cancleModal}},[a("div",{staticClass:"modal-background"}),a("div",{staticClass:"modal-card"},[a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[a("strong",[t._v("Are you sure want to delete รายการสั่งซื้อที่ "+t._s(s.order_id)+"?")])])]),a("footer",{staticClass:"modal-card-foot"},[a("button",{staticClass:"button is-danger",on:{click:function(a){return t.confirmDelete(s.order_id)}}},[t._v("Yes")]),a("button",{staticClass:"button is-success",on:{click:function(s){t.cancleModal=!1}}},[t._v("No")])])])])])}))],2),a("hr",{staticClass:"mt-6"}),a("h1",{staticClass:"is-size-4 has-text-left has-text-white mb-6"},[t._v(" ชำระเงินแล้ว ("+t._s(t.paid.length)+") ")]),a("div",{staticClass:"columns is-multiline"},[0==t.paid.length?a("p",{staticClass:"ml-5 has-text-white"},[t._v(" ไม่มีรายการชำระเงิน ")]):t._e(),t._l(t.paid,(function(s){return a("div",{key:s.order_id,staticClass:"column is-3 mt-5"},[a("div",{staticClass:"card",staticStyle:{"background-image":"linear-gradient(rgb(116, 203, 255), white)"}},[a("div",{staticClass:"card-image pt-5"},[a("figure",[a("img",{staticStyle:{width:"150px",height:"237px"},attrs:{src:t.image(s.img_movie),alt:"Placeholder image"}})])]),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content",staticStyle:{height:"100px"}},[t._v(" รายการสั่งซื้อที่: "+t._s(s.order_id)),a("br"),t._v(" "+t._s(s.m_name)+" ("+t._s(s.language)+")"),a("br"),t._v(" วันที่ฉาย: "+t._s(s.show_date)+" ")])]),a("div",{staticClass:"modal",class:{"is-active":t.ticketModal}},[a("div",{staticClass:"modal-background"}),a("div",{staticClass:"modal-card"},[a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[a("strong",[t._v("รายการคำสั่งซื้อที่ "+t._s(s.order_id))])])]),a("div",{staticClass:"modal-content"},[a("div",{staticClass:"card"},t._l(t.ticket,(function(s){return a("div",{key:s,staticClass:"card-content"},[a("div",{staticClass:"media box has-background-danger-light "},[a("div",{staticClass:"media-left"},[a("figure",{staticClass:"image is-128x128"},[a("img",{attrs:{src:t.image(s.img_movie),alt:"Placeholder image"}})])]),a("div",{staticClass:"media-content box has-text-left has-background-info-light"},[a("b",[a("p",{staticClass:" is-4 is-size-6"},[t._v(t._s(s.m_name)+" ("+t._s(s.language)+")")])]),a("br"),a("p",{staticClass:"subtitle is-6"},[t._v("Date - "+t._s(s.show_date)),a("br"),t._v(" Theatre - "+t._s(s.tname))]),a("p",{staticClass:"subtitle is-3"},[t._v(t._s(s.no_of_seats)+" , "+t._s(s.st_time))]),t._m(0,!0)])]),a("br"),a("br")])})),0)]),a("footer",{staticClass:"modal-card-foot"},[a("button",{staticClass:"button is-success",on:{click:function(s){t.ticketModal=!1}}},[t._v("ออก")])])])]),a("footer",{staticClass:"card-footer"},[a("button",{staticClass:"card-footer-item button is-info",on:{click:function(a){return t.getTicket(s.order_id)}}},[t._v("รายละเอียดตั๋ว")])])])])}))],2)])])])},e=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("figure",[a("img",{staticStyle:{width:"100%",height:"50px"},attrs:{src:"https://pngimg.com/uploads/barcode/barcode_PNG41.png",alt:"Placeholder image"}}),a("p",{staticClass:"has-text-black"},[t._v("08548518265845215041")])])}],c=a(4408),o={name:"app",props:["user"],data(){return{customer:[],order:[],paid:[],wait:[],ticket:[],cancleModal:!1,ticketModal:!1}},mounted(){window.scrollTo(0,0),this.getOrderCustomer(this.$route.params.id)},computed:{},methods:{getOrderCustomer(t){c.Z.get(`http://localhost:3000/profile/myorder/${t}`).then((t=>{this.order=t.data.order,this.paid=t.data.paid,this.wait=t.data.wait;for(var s=0;s<this.paid.length;s++)this.paid[s].show_date=new Date(this.paid[s].show_date).toDateString();for(var a=0;a<this.wait.length;a++)this.wait[s].show_date=new Date(this.wait[s].show_date).toDateString()}))},confirmDelete(t){c.Z["delete"](`http://localhost:3000/movie/cancel/${t}`).then((t=>{this.cancleModal=!1,this.getOrderCustomer(this.$route.params.id),console.log(t)})).catch((t=>{console.log(t)}))},linkOrder(t){this.$router.push({path:`/booking/${t}`})},getTicket(t){this.ticketModal=!0,c.Z.get(`http://localhost:3000/profile/myorder/ticket/${t}`).then((t=>{this.ticket=t.data.ticket;for(var s=0;s<this.ticket.length;s++)this.ticket[s].show_date=new Date(this.ticket[s].show_date).toDateString()}))},image(t){return t?"http://localhost:3000/"+t:"https://bulma.io/images/placeholders/640x360.png"}}},l=o,r=a(1001),d=(0,r.Z)(l,i,e,!1,null,null,null),n=d.exports}}]);
//# sourceMappingURL=799.6d7375e1.js.map