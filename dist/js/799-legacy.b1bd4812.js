"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[799],{2799:function(t,a,s){s.r(a),s.d(a,{default:function(){return d}});var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"container is-widescreen"},[s("section",{staticClass:"section",attrs:{id:"app"}},[s("div",{staticClass:"content"},[s("p",{staticClass:"title has-text-left has-text-white mb-2"},[t._v(" My Order ("+t._s(t.order.length)+") ")]),s("hr"),s("h1",{staticClass:"is-size-4 has-text-left has-text-white mb-6"},[t._v(" ยังไม่ได้ชำระเงิน ("+t._s(t.wait.length)+") ")]),s("div",{staticClass:"columns is-multiline"},[0==t.wait.length?s("p",{staticClass:"ml-5 has-text-white"},[t._v(" ไม่มีรายการคำสั่งซื้อ ")]):t._e(),t._l(t.wait,(function(a){return s("div",{key:a,staticClass:"column is-3 mt-5"},[s("div",{staticClass:"card",staticStyle:{"background-image":"linear-gradient(rgb(253, 86, 92), white)"}},[s("div",{staticClass:"card-image pt-5"},[s("figure",[s("img",{staticStyle:{width:"150px",height:"237px"},attrs:{src:t.image(a.img_movie),alt:"Placeholder image"}})])]),s("div",{staticClass:"card-content"},[s("div",{staticClass:"content",staticStyle:{height:"100px"}},[t._v(" รายการสั่งซื้อที่: "+t._s(a.order_id)),s("br"),t._v(" "+t._s(a.m_name)+" ("+t._s(a.language)+")"),s("br"),t._v(" วันที่ฉาย: "+t._s(a.show_date)+" ")])]),s("footer",{staticClass:"card-footer "},[s("button",{staticClass:"card-footer-item  button is-success",on:{click:function(s){return t.linkOrder(a.order_id)}}},[t._v("ชำระเงิน")]),s("button",{staticClass:"card-footer-item  button is-danger",on:{click:function(a){t.cancleModal=!0}}},[t._v("ยกเลิก")])])]),s("div",{staticClass:"modal",class:{"is-active":t.cancleModal}},[s("div",{staticClass:"modal-background"}),s("div",{staticClass:"modal-card"},[s("header",{staticClass:"modal-card-head"},[s("p",{staticClass:"modal-card-title"},[s("strong",[t._v("Are you sure want to delete รายการสั่งซื้อที่ "+t._s(a.order_id)+"?")])])]),s("footer",{staticClass:"modal-card-foot"},[s("button",{staticClass:"button is-danger",on:{click:function(s){return t.confirmDelete(a.order_id)}}},[t._v("Yes")]),s("button",{staticClass:"button is-success",on:{click:function(a){t.cancleModal=!1}}},[t._v("No")])])])])])}))],2),s("hr",{staticClass:"mt-6"}),s("h1",{staticClass:"is-size-4 has-text-left has-text-white mb-6"},[t._v(" ชำระเงินแล้ว ("+t._s(t.paid.length)+") ")]),s("div",{staticClass:"columns is-multiline"},[0==t.paid.length?s("p",{staticClass:"ml-5 has-text-white"},[t._v(" ไม่มีรายการชำระเงิน ")]):t._e(),t._l(t.paid,(function(a){return s("div",{key:a.order_id,staticClass:"column is-3 mt-5"},[s("div",{staticClass:"card",staticStyle:{"background-image":"linear-gradient(rgb(116, 203, 255), white)"}},[s("div",{staticClass:"card-image pt-5"},[s("figure",[s("img",{staticStyle:{width:"150px",height:"237px"},attrs:{src:t.image(a.img_movie),alt:"Placeholder image"}})])]),s("div",{staticClass:"card-content"},[s("div",{staticClass:"content",staticStyle:{height:"100px"}},[t._v(" รายการสั่งซื้อที่: "+t._s(a.order_id)),s("br"),t._v(" "+t._s(a.m_name)+" ("+t._s(a.language)+")"),s("br"),t._v(" วันที่ฉาย: "+t._s(a.show_date)+" ")])]),s("div",{staticClass:"modal",class:{"is-active":t.ticketModal}},[s("div",{staticClass:"modal-background"}),s("div",{staticClass:"modal-card"},[s("header",{staticClass:"modal-card-head"},[s("p",{staticClass:"modal-card-title"},[s("strong",[t._v("รายการคำสั่งซื้อที่ "+t._s(a.order_id))])])]),s("div",{staticClass:"modal-content"},[s("div",{staticClass:"card"},t._l(t.ticket,(function(a){return s("div",{key:a,staticClass:"card-content"},[s("div",{staticClass:"media box has-background-danger-light "},[s("div",{staticClass:"media-left"},[s("figure",{staticClass:"image is-128x128"},[s("img",{attrs:{src:t.image(a.img_movie),alt:"Placeholder image"}})])]),s("div",{staticClass:"media-content box has-text-left has-background-info-light"},[s("b",[s("p",{staticClass:" is-4 is-size-6"},[t._v(t._s(a.m_name)+" ("+t._s(a.language)+")")])]),s("br"),s("p",{staticClass:"subtitle is-6"},[t._v("Date - "+t._s(a.show_date)),s("br"),t._v(" Theatre - "+t._s(a.tname))]),s("p",{staticClass:"subtitle is-3"},[t._v(t._s(a.no_of_seats)+" , "+t._s(a.st_time))]),t._m(0,!0)])]),s("br"),s("br")])})),0)]),s("footer",{staticClass:"modal-card-foot"},[s("button",{staticClass:"button is-success",on:{click:function(a){t.ticketModal=!1}}},[t._v("ออก")])])])]),s("footer",{staticClass:"card-footer"},[s("button",{staticClass:"card-footer-item button is-info",on:{click:function(s){return t.getTicket(a.order_id)}}},[t._v("รายละเอียดตั๋ว")])])])])}))],2)])])])},i=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("figure",[s("img",{staticStyle:{width:"100%",height:"50px"},attrs:{src:"https://pngimg.com/uploads/barcode/barcode_PNG41.png",alt:"Placeholder image"}}),s("p",{staticClass:"has-text-black"},[t._v("08548518265845215041")])])}],c=s(4408),o={name:"app",props:["user"],data:function(){return{customer:[],order:[],paid:[],wait:[],ticket:[],cancleModal:!1,ticketModal:!1}},mounted:function(){window.scrollTo(0,0),this.getOrderCustomer(this.$route.params.id)},computed:{},methods:{getOrderCustomer:function(t){var a=this;c.Z.get("http://localhost:3000/profile/myorder/".concat(t)).then((function(t){a.order=t.data.order,a.paid=t.data.paid,a.wait=t.data.wait;for(var s=0;s<a.paid.length;s++)a.paid[s].show_date=new Date(a.paid[s].show_date).toDateString();for(var e=0;e<a.wait.length;e++)a.wait[s].show_date=new Date(a.wait[s].show_date).toDateString()}))},confirmDelete:function(t){var a=this;c.Z["delete"]("http://localhost:3000/movie/cancel/".concat(t)).then((function(t){a.cancleModal=!1,a.getOrderCustomer(a.$route.params.id),console.log(t)})).catch((function(t){console.log(t)}))},linkOrder:function(t){this.$router.push({path:"/booking/".concat(t)})},getTicket:function(t){var a=this;this.ticketModal=!0,c.Z.get("http://localhost:3000/profile/myorder/ticket/".concat(t)).then((function(t){a.ticket=t.data.ticket;for(var s=0;s<a.ticket.length;s++)a.ticket[s].show_date=new Date(a.ticket[s].show_date).toDateString()}))},image:function(t){return t?"http://localhost:3000/"+t:"https://bulma.io/images/placeholders/640x360.png"}}},l=o,r=s(1001),n=(0,r.Z)(l,e,i,!1,null,null,null),d=n.exports}}]);
//# sourceMappingURL=799-legacy.b1bd4812.js.map