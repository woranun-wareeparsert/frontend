"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[903],{9903:function(t,s,e){e.r(s),e.d(s,{default:function(){return d}});var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container is-widescreen"},[e("div",{staticClass:"columns pb-5"},[e("div",{staticClass:"column box mx-5 mb-5 has-background-grey-dark"},[t._m(0),e("section",{staticClass:"px-6"},[e("div",{staticClass:"columns is-multiline"},[e("div",{staticClass:"column is-6"},[e("div",{staticClass:"field mt-5"},[e("label",{staticClass:"label has-text-white"},[t._v("รูปภาพ")]),e("div",{staticClass:"control"},[e("input",{staticClass:"mb-5 ml-2 pl-5 pt-2",staticStyle:{width:"150px",height:"40px"},attrs:{multiple:"",type:"file",accept:"image/png, image/jpeg, image/webp"},on:{change:t.selectImages}})])])]),e("div",{staticClass:"column is-6"},[e("div",{staticClass:"field mt-5"},[e("label",{staticClass:"label has-text-white"},[t._v("ชื่อหนัง")]),e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.movie,expression:"movie"}],staticClass:"input",attrs:{type:"text",placeholder:"movie name"},domProps:{value:t.movie},on:{input:function(s){s.target.composing||(t.movie=s.target.value)}}})])])])]),e("br"),e("br"),e("div",{staticClass:"columns is-multiline"},[e("div",{staticClass:"column"},[e("div",{staticClass:"field"},[e("label",{staticClass:"label has-text-white"},[t._v("เนื้อเรื่องย่อ")]),e("div",{staticClass:"control"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.plot,expression:"plot"}],staticClass:"textarea",attrs:{placeholder:"Plot movie input"},domProps:{value:t.plot},on:{input:function(s){s.target.composing||(t.plot=s.target.value)}}})])])])]),e("br"),e("br"),e("div",{staticClass:"columns is-multiline"},[e("div",{staticClass:"column is-6"},[e("div",{staticClass:"field mt-5"},[e("label",{staticClass:"label has-text-white"},[t._v("ผู้กำกับ")]),e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.director,expression:"director"}],staticClass:"input",attrs:{type:"text",placeholder:"Director name"},domProps:{value:t.director},on:{input:function(s){s.target.composing||(t.director=s.target.value)}}})])])]),e("div",{staticClass:"column is-6"},[e("div",{staticClass:"field mt-5"},[e("label",{staticClass:"label has-text-white"},[t._v("นักแสดง")]),e("div",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.actors,expression:"actors"}],staticClass:"input",attrs:{type:"text",placeholder:"Actors name"},domProps:{value:t.actors},on:{input:function(s){s.target.composing||(t.actors=s.target.value)}}})])])])]),e("div",{staticClass:"columns my-5 "},[e("div",{staticClass:"column is-2"},[e("div",{staticClass:"field is-grouped"},[e("div",{staticClass:"control"},[e("button",{staticClass:"button is-danger",staticStyle:{width:"150px",height:"40px",right:"0"},on:{click:function(s){return t.submitMovie()}}},[t._v("Submit")])])])]),e("div",{staticClass:"column is-2"},[e("div",{staticClass:"field is-grouped"},[e("div",{staticClass:"control"},[e("router-link",{staticClass:"has-text-light",attrs:{to:"/movies"}},[e("button",{staticClass:"button is-danger is-light",staticStyle:{width:"150px",height:"40px"},on:{click:function(t){return this.$router.push({path:"/movies"})}}},[t._v("Cancel")])])],1)])]),e("div",{staticClass:"column"})])])])])])},a=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("section",{staticClass:"hero"},[e("div",{staticClass:"hero-body"},[e("p",{staticClass:"title has-text-white"},[t._v("Edit Movie")])])])}],l=e(4408),o={data(){return{movie:"",plot:"",director:"",actors:"",myImage:""}},mounted(){window.scrollTo(0,0),this.getMovie(this.$route.params.id)},methods:{getMovie(t){l.Z.get(`http://localhost:3000/movies/detail/${t}`).then((t=>{console.log(t.data.moviedetail),this.movie=t.data.moviedetail[0].m_name,this.plot=t.data.moviedetail[0].plot,this.director=t.data.moviedetail[0].director,this.actors=t.data.moviedetail[0].actors}))},selectImages(t){this.myImage=t.target.files,console.log(this.myImage[0])},submitMovie(){let t=new FormData;t.append("movie",this.movie),t.append("plot",this.plot),t.append("director",this.director),t.append("actors",this.actors),t.append("myImage",this.myImage[0]),l.Z.post(`http://localhost:3000/movies/edit/${this.$route.params.id}`,t).then((t=>{console.log(t.data),this.$router.push({path:"/movies"})})).catch((t=>{this.error=t.message}))}}},c=o,r=e(1001),n=(0,r.Z)(c,i,a,!1,null,null,null),d=n.exports}}]);
//# sourceMappingURL=903.ff673c40.js.map