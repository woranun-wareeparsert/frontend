"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[290],{4290:function(t,e,a){a.r(e),a.d(e,{default:function(){return u}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container is-widescreen"},[t._m(0),a("section",{staticClass:"hero"},[a("div",{staticClass:"hero-body"},[a("p",{staticClass:"title has-text-white"},[t._v("กำลังฉาย")]),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"input is-danger",attrs:{type:"text",placeholder:"Search Movie"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),a("div",{staticClass:"column is-2"},[a("button",{staticClass:"button px-3 is-danger is-fullwidth",on:{click:function(e){return t.getMovie()}}},[a("strong",[t._v("Search")])])])])])]),a("section",{staticClass:"section",attrs:{id:"app"}},[a("div",{staticClass:"field level-right"},[a("div",{staticClass:"control"},[a("div",{staticClass:"select is-danger"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.theatre,expression:"theatre"}],on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.theatre=e.target.multiple?a:a[0]},function(e){return t.getMovie()}]}},[t._v(" "+t._s(t.theatre)+" "),a("option",{attrs:{value:"none"}},[t._v("เลือกโรงหนัง")]),a("option",{attrs:{value:"JunRongJai 1"}},[t._v("JunRongJai 1")]),a("option",{attrs:{value:"JunRongJai 2"}},[t._v("JunRongJai 2")]),a("option",{attrs:{value:"RongJai 1"}},[t._v("RongJai 1")])])]),a("div",{staticClass:"select ml-5 is-danger is-outlined"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.order,expression:"order"}],on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.order=e.target.multiple?a:a[0]},function(e){return t.getMovie()}]}},[a("option",{attrs:{value:"show_date"}},[t._v("เรียงลำดับจาก ล่าสุด")]),a("option",{attrs:{value:"m_name asc"}},[t._v("เรียงลำดับจาก a-z")]),a("option",{attrs:{value:"m_name desc"}},[t._v("เรียงลำดับจาก z-a")])])])])]),a("div",{staticClass:"content"},[a("div",{staticClass:"columns is-multiline"},[0==t.movie.length?a("p",{staticClass:"title has-text-centered has-text-white"},[t._v(" ไม่ค้นพบรายการที่ต้องการ ")]):t._e(),t._l(t.movie,(function(e){return a("div",{key:e.id,staticClass:"listmovie column is-3 mt-5"},[a("div",{staticClass:"level-left has-text-white"},[t._v(t._s(e.tname))]),a("div",{staticClass:"level-left has-text-white"},[t._v(t._s(e.show_date))]),a("div",{staticClass:"level-left mb-3 has-text-white"},[t._v(" "+t._s(e.st_time)+" ")]),a("div",{staticClass:"card ",staticStyle:{"background-color":"#99201c","background-image":"linear-gradient(#FF7D7D, #ffffff)"}},[a("div",{staticClass:"card-image pt-5"},[a("figure",[a("img",{staticStyle:{width:"180px",height:"284px","box-shadow":"rgba(0, 0, 0, 0.25) 0px 14px 28px, rgba(0, 0, 0, 0.22) 0px 10px 10px"},attrs:{src:t.image(e.img_movie),alt:"Placeholder image"}})])]),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content has-text-black",staticStyle:{height:"40px"}},[t._v(" "+t._s(e.m_name)+" ")])])]),a("footer",{staticClass:"card-footer has-background-danger-dark"},[a("router-link",{staticClass:"card-footer-item has-text-light",attrs:{to:"/show/"+e.show_id}},[t.isCusto()?a("span",[t._v("Buy Now")]):t._e(),t.isAdmin()?a("span",[t._v("Detail")]):t._e()])],1)])}))],2)])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-image pt-5"},[a("figure",{staticClass:"image is-1186x800"},[a("img",{attrs:{src:"https://media.discordapp.net/attachments/953696113448337498/968580127908851712/background.png?width=1191&height=670",alt:"Placeholder image"}})])])}],r=a(4408),o={name:"app",props:["user"],data(){return{search:"",movie:[],order:"show_date",theatre:"none"}},mounted(){window.scrollTo(0,0),this.getMovie()},methods:{getMovie(){r.Z.get("http://localhost:3000/",{params:{search:this.search,order:this.order,theatre:this.theatre}}).then((t=>{this.movie=t.data;for(var e=0;e<this.movie.length;e++)this.movie[e].show_date=new Date(this.movie[e].show_date).toDateString()})).catch((t=>{console.log(t)}))},image(t){return t?"http://localhost:3000/"+t:"https://bulma.io/images/placeholders/640x360.png"},isAdmin(){return!!this.user&&"admin"==this.user.role},isCusto(){return!!this.user&&"customer"==this.user.role}}},n=o,l=a(1001),c=(0,l.Z)(n,s,i,!1,null,null,null),u=c.exports}}]);
//# sourceMappingURL=290.75edf830.js.map